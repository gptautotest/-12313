modules = ["nodejs-20", "web"]
run = "npm run dev"

[nix]
channel = "stable-24_05"

[deployment]
run = ["sh", "-c", "npm run dev"]

[[ports]]
localPort = 3000
externalPort = 3001

[[ports]]
localPort = 8080
externalPort = 8080

[[ports]]
localPort = 8081
externalPort = 8081

[[ports]]
localPort = 8082
externalPort = 80

[[ports]]
localPort = 8083
externalPort = 3000

[workflows]
runButton = "–ú–ï–ú–ö–û–ò–ù-–î–ï–ë–ê–ì–ì–ï–†"

[[workflows.workflow]]
name = "Run"
author = 40936906
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Run Dev Server"
author = 40936906
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export NODE_OPTIONS=\"--max-old-space-size=2048\" && npm run dev -- --host=0.0.0.0 --port=3000"

[[workflows.workflow]]
name = "Run Production"
author = 40936906
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev -- --host=0.0.0.0 --port=8080 --force"

[[workflows.workflow]]
name = "Run Production Server"
author = 40936906
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run build && npm run preview -- --host=0.0.0.0 --port=8080 --force"

[[workflows.workflow]]
name = "Production Preview"
author = 40936906
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run build && npm run preview -- --host=0.0.0.0 --port=8080"

[[workflows.workflow]]
name = "Rebuild and Start"
author = 40936906
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export NODE_OPTIONS=\"--max-old-space-size=2048\" && npm run build && npm run preview -- --host=0.0.0.0 --port=3000"

[[workflows.workflow]]
name = "Super Rebuild and Start"
author = 40936906
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# –£–±–∏–π—Å—Ç–≤–æ –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill node || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export NODE_OPTIONS=\"--max-old-space-size=4096\" && npm run build && npm run preview -- --host=0.0.0.0 --port=3000"

[[workflows.workflow]]
name = "–ú–ï–ú–ö–û–ò–ù-–î–ï–ë–ê–ì–ì–ï–†"
author = 40936906
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# –£–±–∏–≤–∞–µ–º –≤—Å–µ—Ö –∑–æ–º–±–∏-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Node, –∫–æ—Ç–æ—Ä—ã–µ –º–µ—à–∞—é—Ç –Ω–∞—à–µ–º—É –º–∏–ª–ª–∏–∞—Ä–¥-–≥–µ–π–º—É"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill node || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# –î–∞–µ–º –º–µ–≥–∞–æ–ø–µ—Ä–∞—Ç–∏–≤–∫—É –¥–ª—è –Ω–∞—à–µ–≥–æ —Å—É–ø–µ—Ä-–±–æ—Ç–∞"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "export NODE_OPTIONS=\"--max-old-space-size=4096\" "

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# –°—Ç—Ä–æ–∏–º –†–ê–ö–ï–¢–£ –ù–ê –õ–£–ù–£"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run build "

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# –ó–ê–ü–£–°–ö–ê–ï–ú –î–í–ò–ì–ê–¢–ï–õ–ò! üöÄ"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run preview -- --host=0.0.0.0 --port=3000"
